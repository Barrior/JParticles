+function(e,t){"use strict";function o(e,t){i.createCanvas(this,o,e,t)}var i=t.util,s=Math.random,r=Math.sin,f=2*Math.PI,n="undefined",a=Array.isArray;o.defaultConfig={lineColor:[],fillColor:[],num:3,lineWidth:[],offsetLeft:[],offsetTop:[],crest:[],rippleNum:[],speed:[],fill:!1,stroke:!0},o.prototype={version:"1.0.0",init:function(){this.initAttr(),this.createDot(),this.draw(),this.resize()},initAttr:function(){function e(e){var i=c[e];if(a(i)){if("offsetTop"===e||"crest"===e||"offsetLeft"===e)for(var s="offsetLeft"===e?f:l,r=0;r<u;r++)i[r]=typeof i[r]===n?t(e):o(i[r],s);else if(i.length<u)for(var r=0,h=u-i.length;r<h;r++)i.push(t(e))}else if(c[e]=[],"number"==typeof i||"boolean"==typeof i||"string"==typeof i)for(var r=0;r<u;r++)"offsetTop"===e||"crest"===e?i=o(i,l):"offsetLeft"===e?i=o(i,f):"rippleNum"===e&&d.push(f/i),c[e].push(i)}function t(e){switch(e){case"lineColor":case"fillColor":e=h();break;case"lineWidth":e=p(2,.2);break;case"offsetLeft":e=s()*f;break;case"offsetTop":case"crest":e=s()*l;break;case"rippleNum":e=p(f/2,1),d.push(f/e);break;case"speed":e=p(.4,.1);break;case"area":e=!1;break;case"stroke":e=!0}return e}function o(e,t){return e>0&&e<1?e*t:e}var r=this,f=r.cw,l=r.ch,c=r.set,h=i.randomColor,p=i.limitRandom,u=c.num=c.num||p(l/2,1),d=this.rippleLength=[];["lineColor","fillColor","lineWidth","offsetLeft","offsetTop","crest","rippleNum","speed","area","stroke"].forEach(function(t){e(t)})},setOffsetTop:function(e){a(e)?this.set.offsetTop.forEach(function(t,o,i){i[o]=e[o]||t}):(e>0&&e<1&&(e*=this.ch),this.set.offsetTop.forEach(function(t,o,i){i[o]=e}))},createDot:function(){for(var e=this.set,t=this.cw,o=e.num,i=[],s=0;s<o;s++){for(var r=[],n=f/this.rippleLength[s],a=0;a<t;a++)r.push({x:a,y:a*n});i.push(r)}this.dots=i},draw:function(){var e=this.cxt,t=this.cw,o=this.ch,i=this.set;e.clearRect(0,0,t,o),e.globalAlpha=i.opacity,this.dots.forEach(function(s,f){e.save(),e.beginPath();var n=i.crest[f],a=i.offsetLeft[f],l=i.offsetTop[f],c=i.speed[f];s.forEach(function(t,o){e[o?"lineTo":"moveTo"](t.x,n*r(t.y+a)+l),t.y-=c}),i.area[f]&&(e.lineTo(t,o),e.lineTo(0,o),e.closePath(),e.fillStyle=i.fillColor[f],e.fill()),i.stroke[f]&&(e.lineWidth=i.lineWidth[f],e.strokeStyle=i.lineColor[f],e.stroke()),e.restore()}),this.requestAnimationFrame()}},t.extend(o.prototype),t.wave=o.prototype.constructor=o}(window,Particleground);