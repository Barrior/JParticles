+function(t,e){"use strict";function s(t,e){o[t](e.set.eventElem,"mousemove",e.handler),o[t](e.set.eventElem,"touchmove",e.handler)}function i(t,e){n.createCanvas(t,this)&&(this.set=n.extend({},i.configDefault,e),n.isElem(this.set.eventElem)||this.set.eventElem===document||(this.set.eventElem=this.c),this.posX=a()*this.cw,this.posY=a()*this.ch,this.createDot(),this.draw(),this.resize(),this.set.range>0&&this.event())}var n=e.util,o=e.event,h=(o.on,o.off,Math),a=h.random,c=h.abs,r=2*h.PI;i.configDefault={opacity:.6,color:null,speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null,resize:!0};var l=i.prototype={version:"1.0.0",createDot:function(){for(var t=this.set,e=t.speed,s=t.num>=1?t.num:this.cw*t.num,i=[],o=0;o<s;o++){var h=n.limitRandom(t.max,t.min);i.push({x:n.limitRandom(this.cw-h,h),y:n.limitRandom(this.ch-h,h),r:h,vx:n.limitRandom(e,.5*-e)||e,vy:n.limitRandom(e,.5*-e)||e,color:this.color()})}this.dots=i},draw:function(){var t=this.set,e=this.cw,s=this.ch,i=this.cxt;i.clearRect(0,0,e,s),i.lineWidth=t.lineWidth,i.globalAlpha=t.opacity,this.dots.forEach(function(t){var n=t.r;i.save(),i.beginPath(),i.arc(t.x,t.y,n,0,r),i.fillStyle=t.color,i.fill(),i.restore(),t.x+=t.vx,t.y+=t.vy;var o=t.x,h=t.y;(o+n>=e||o-n<=0)&&(t.vx*=-1),(h+n>=s||h-n<=0)&&(t.vy*=-1)}),t.range>0&&this.connectDot(),this.requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,s=e.dis,i=this.posX,n=this.posY,o=e.range,h=this.dots;h.forEach(function(e){var a=e.x,r=e.y;c(a-i)<=o&&c(r-n)<=o&&h.forEach(function(i){var n=i.x,o=i.y;c(a-n)<=s&&c(r-o)<=s&&(t.save(),t.beginPath(),t.moveTo(a,r),t.lineTo(n,o),t.strokeStyle=e.color,t.stroke(),t.restore())})})},event:function(){this.set.eventElem!==document&&(this.elemOffset=n.offset(this.set.eventElem)),this.handler=function(t){this.posX=t.pageX,this.posY=t.pageY,this.elemOffset&&("fixed"===n.getCss(this.set.eventElem,"position")?(this.posX=t.clientX,this.posX=t.clientY):(this.posX-=this.elemOffset.left,this.posY-=this.elemOffset.top))}.bind(this),s("on",this)}};e.extend(l),l.pause=function(){n.pause(this,function(){this.set.range>0&&s("off",this)})},l.open=function(){n.open(this,function(){this.set.range>0&&s("on",this)})},l.resize=function(){n.resize(this,function(t,e){this.set.range>0&&(this.posX*=t,this.posY*=e,this.elemOffset=this.elemOffset?n.offset(this.set.eventElem):"")})},e.particle=l.constructor=i}(window,Particleground);