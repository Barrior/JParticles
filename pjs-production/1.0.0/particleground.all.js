/**
 * Particleground.js v1.0.0 (https://github.com/Barrior/Particleground.js)
 * Copyright 2016 Barrior <Barrior@qq.com>
 * Licensed under the MIT (https://opensource.org/licenses/mit-license.php)
 */
!function(t){"object"==typeof module&&module.exports?module.exports=t():t()}(function(){"use strict";function t(t){return parseInt(t,10)}function e(t){return t.replace(P,"")}function n(){return"#"+b().toString(16).slice(-6)}function o(t,e){return b()*(t-e)+e}function i(){var t,e,n=arguments,o=n[0]||{},s=!1,r=n.length,c=1;for("boolean"==typeof o&&(s=o,o=n[1]||{},c++);c<r;c++)for(e in n[c])t=n[c][e],s&&(a(t)||T(t))?o[e]=i(s,T(t)?[]:{},t):o[e]=t;return o}function s(t,e){return toString.call(t)===e}function r(t){return s(t,"[object Function]")}function a(t){return s(t,"[object Object]")}function c(t){return!(!t||1!==t.nodeType)}function f(e,n){var o=x.getComputedStyle(e)[n];return k.test(o)?t(o):o}function h(t){for(var e=t.offsetLeft||0,n=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,n+=t.offsetTop;return{left:e,top:n}}function u(t,e,n){t.addEventListener(e,n)}function l(t,e,n){t.removeEventListener(e,n)}function p(t,e,n,o){A&&(t.container=c(n)?n:E.querySelector(n))&&(t.set=i({},L,e.defaultConfig,o),t.c=E.createElement("canvas"),t.cw=t.c.width=f(t.container,"width"),t.ch=t.c.height=f(t.container,"height"),t.cxt=t.c.getContext("2d"),t.paused=!1,t.container.innerHTML="",t.container.appendChild(t.c),t.init())}function d(t,e){return t>0&&t<1?e*t:t}function m(t){var e=!!T(t)&&t.length,o=function(){return t[C(b()*e)]};return e?o:n}function v(t,e){t.set&&!t.paused&&(r(e)&&e.call(t,"pause"),t.paused=!0)}function y(t,e){t.set&&t.paused&&(r(e)&&e.call(t,"open"),t.paused=!1,t.draw())}function g(t,e){t.set&&t.set.resize&&u(x,"resize",function(){var n=t.cw,o=t.ch;t.cw=t.c.width=f(t.container,"width"),t.ch=t.c.height=f(t.container,"height");var i=t.cw/n,s=t.ch/o;t.dots.forEach(function(t){t.x*=i,t.y*=s}),r(e)&&e.call(t,i,s),t.paused&&t.draw()})}function w(t,n,o){e(n).split(",").forEach(function(e){t[e]=function(){z[e](this,o)}})}var x=window,E=document,b=Math.random,C=Math.floor,T=Array.isArray,A=!!E.createElement("canvas").getContext,P=/\s/g,k=/^\d+(\.\d+)?[a-z]+$/i,L={opacity:1,resize:!0};x.requestAnimationFrame=function(t){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(x);var z={pInt:t,trimAll:e,randomColor:n,limitRandom:o,extend:i,typeChecking:s,isFunction:r,isPlainObject:a,isElem:c,getCss:f,offset:h,createCanvas:p,scaleValue:d,createColor:m,pause:v,open:y,resize:g,modifyPrototype:w},S={version:"1.0.0",canvasSupport:A,util:z,inherit:{color:function(){return this.color=m(this.set.color),this.color()},requestAnimationFrame:function(){!this.paused&&x.requestAnimationFrame(this.draw.bind(this))},pause:function(){v(this)},open:function(){y(this)},resize:function(){g(this)}},event:{on:u,off:l},extend:function(t){i(t,this.inherit)}};return"function"==typeof define&&define.amd&&define(function(){return S}),x.Particleground=S,S}),+function(t,e){"use strict";function n(t,e,n){for(var o=s.getCss;t=t.offsetParent;)if(o(t,e)===n)return!0;return!1}function o(t){var e=this;e.set.range>0&&(t="pause"===t?"off":"on",r[t](e.set.eventElem,"mousemove",e.moveHandler),r[t](e.set.eventElem,"touchmove",e.moveHandler))}function i(t,e){s.createCanvas(this,i,t,e)}var s=e.util,r=e.event,a=Math.random,c=Math.abs,f=2*Math.PI;i.defaultConfig={color:null,speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null};var h=i.prototype={version:"1.0.0",init:function(){this.set.num>0&&(this.set.range>0&&(s.isElem(this.set.eventElem)||this.set.eventElem===document||(this.set.eventElem=this.c),this.posX=a()*this.cw,this.posY=a()*this.ch,this.event()),this.createDot(),this.draw(),this.resize())},createDot:function(){for(var t,e=this.cw,n=this.ch,o=this.set,i=s.limitRandom,r=o.speed,a=o.max,c=o.min,f=s.pInt(s.scaleValue(o.num,e)),h=[];f--;)t=i(a,c),h.push({x:i(e-t,t),y:i(n-t,t),r:t,vx:i(r,.5*-r)||r,vy:i(r,.5*-r)||r,color:this.color()});this.dots=h},draw:function(){var t=this.set,e=this.cw,n=this.ch,o=this.cxt,i=this.paused;o.clearRect(0,0,e,n),o.lineWidth=t.lineWidth,o.globalAlpha=t.opacity,this.dots.forEach(function(t){var s=t.r;if(o.save(),o.beginPath(),o.arc(t.x,t.y,s,0,f),o.fillStyle=t.color,o.fill(),o.restore(),!i){t.x+=t.vx,t.y+=t.vy;var r=t.x,a=t.y;(r+s>=e||r-s<=0)&&(t.vx*=-1),(a+s>=n||a-s<=0)&&(t.vy*=-1)}}),t.range>0&&this.connectDot(),this.requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,n=e.dis,o=this.posX,i=this.posY,s=e.range,r=this.dots;r.forEach(function(e){var a=e.x,f=e.y;c(a-o)<=s&&c(f-i)<=s&&r.forEach(function(o){var i=o.x,s=o.y;c(a-i)<=n&&c(f-s)<=n&&(t.save(),t.beginPath(),t.moveTo(a,f),t.lineTo(i,s),t.strokeStyle=e.color,t.stroke(),t.restore())})})},getElemOffset:function(){return this.elemOffset=this.elemOffset?s.offset(this.set.eventElem):null},event:function(){this.set.eventElem!==document&&(this.elemOffset=!0),this.moveHandler=function(t){this.posX=t.pageX,this.posY=t.pageY,this.getElemOffset()&&(n(this.set.eventElem,"position","fixed")&&(this.posX=t.clientX,this.posY=t.clientY),this.posX-=this.elemOffset.left,this.posY-=this.elemOffset.top)}.bind(this),o.call(this)}};e.extend(h),s.modifyPrototype(h,"pause, open",o),s.modifyPrototype(h,"resize",function(t,e){this.set.range>0&&(this.posX*=t,this.posY*=e,this.getElemOffset())}),e.particle=h.constructor=i}(window,Particleground),+function(t,e){"use strict";function n(t,e){o.createCanvas(t,this)&&(this.set=o.extend({},n.configDefault,e),this.dots=[],this.createDot(),this.draw(),this.resize())}var o=e.util,i=Math.random,s=2*Math.PI;n.defaultConfig={opacity:1,color:["#fff"],max:6.5,min:.4,speed:.4,resize:!0},n.prototype={version:"1.0.0",snowShape:function(){var t=this,e=t.cw,n=t.set,s=n.speed,r=o.limitRandom(n.max,n.min);return{x:i()*e,y:-r,r:r,vx:i()||.4,vy:r*s,color:t.color()}},createDot:function(){for(var t=6*i(),e=this.dots,n=0;n<t;n++)e.push(this.snowShape())},draw:function(){var t=this,e=t.set,n=t.cxt,o=t.cw,r=t.ch,a=t.dots;n.clearRect(0,0,o,r),n.globalAlpha=e.opacity,a.forEach(function(e,c){var f=e.x,h=e.y,u=e.r;n.save(),n.beginPath(),n.arc(f,h,u,0,s),n.fillStyle=e.color,n.fill(),n.restore(),e.x+=e.vx,e.y+=e.vy,i()>.99&&i()>.5&&(e.vx*=-1),f<0||f-u>o?(a.splice(c,1),a.push(t.snowShape())):h-u>=r&&a.splice(c,1)}),i()>.9&&t.createDot(),this.requestAnimationFrame()}},e.extend(n.prototype),e.snow=n.prototype.constructor=n}(window,Particleground),+function(t,e){"use strict";function n(t,e){o.createCanvas(t,this)&&(this.set=o.extend({},n.configDefault,e),this.initAttr(),this.createDot(),this.draw(),this.resize())}var o=e.util,i=Math.random,s=Math.sin,r=2*Math.PI,a="undefined",c=Array.isArray;n.defaultConfig={opacity:1,lineColor:[],fillColor:[],num:null,lineWidth:[],offsetLeft:[],offsetTop:[],crest:[],rippleNum:[],speed:[],area:!1,stroke:!0,resize:!0},n.prototype={version:"1.0.0",initAttr:function(){function t(t){var o=h[t];if(c(o)){if("offsetTop"===t||"crest"===t||"offsetLeft"===t)for(var i="offsetLeft"===t?r:f,s=0;s<p;s++)o[s]=typeof o[s]===a?e(t):n(o[s],i);else if(o.length<p)for(var s=0,u=p-o.length;s<u;s++)o.push(e(t))}else if(h[t]=[],"number"==typeof o||"boolean"==typeof o||"string"==typeof o)for(var s=0;s<p;s++)"offsetTop"===t||"crest"===t?o=n(o,f):"offsetLeft"===t?o=n(o,r):"rippleNum"===t&&d.push(r/o),h[t].push(o)}function e(t){switch(t){case"lineColor":case"fillColor":t=u();break;case"lineWidth":t=l(2,.2);break;case"offsetLeft":t=i()*r;break;case"offsetTop":case"crest":t=i()*f;break;case"rippleNum":t=l(r/2,1),d.push(r/t);break;case"speed":t=l(.4,.1);break;case"area":t=!1;break;case"stroke":t=!0}return t}function n(t,e){return t>0&&t<1?t*e:t}var s=this,r=s.cw,f=s.ch,h=s.set,u=o.randomColor,l=o.limitRandom,p=h.num=h.num||l(f/2,1),d=this.rippleLength=[];["lineColor","fillColor","lineWidth","offsetLeft","offsetTop","crest","rippleNum","speed","area","stroke"].forEach(function(e){t(e)})},setOffsetTop:function(t){c(t)?this.set.offsetTop.forEach(function(e,n,o){o[n]=t[n]||e}):(t>0&&t<1&&(t*=this.ch),this.set.offsetTop.forEach(function(e,n,o){o[n]=t}))},createDot:function(){for(var t=this.set,e=this.cw,n=t.num,o=[],i=0;i<n;i++){for(var s=[],a=r/this.rippleLength[i],c=0;c<e;c++)s.push({x:c,y:c*a});o.push(s)}this.dots=o},draw:function(){var t=this.cxt,e=this.cw,n=this.ch,o=this.set;t.clearRect(0,0,e,n),t.globalAlpha=o.opacity,this.dots.forEach(function(i,r){t.save(),t.beginPath();var a=o.crest[r],c=o.offsetLeft[r],f=o.offsetTop[r],h=o.speed[r];i.forEach(function(e,n){t[n?"lineTo":"moveTo"](e.x,a*s(e.y+c)+f),e.y-=h}),o.area[r]&&(t.lineTo(e,n),t.lineTo(0,n),t.closePath(),t.fillStyle=o.fillColor[r],t.fill()),o.stroke[r]&&(t.lineWidth=o.lineWidth[r],t.strokeStyle=o.lineColor[r],t.stroke()),t.restore()}),this.requestAnimationFrame()}},e.extend(n.prototype),e.wave=n.prototype.constructor=n}(window,Particleground);