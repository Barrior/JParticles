{"version":3,"sources":["site.js"],"names":["localConfig","plugin","prettify","css","js","prodConfig","siteConfig","$","extend","isProdEnv","location","hostname","loadjs","url","callback","error","script","document","createElement","onload","onerror","src","getElementsByTagName","appendChild","loadcss","link","href","rel","setActive","$parent","$this","find","removeClass","addClass","nav","changeActive","$el","$nav","setSlideblock","l","position","left","parseInt","$slideblock","width","transform","$active","setTimeout","hover","this","window","resize","clearTimeout","timer","setFooter","height","outerHeight","zIndex","bottom","show","mobileHandler","click","toggleClass","on","event","$target","target","parents","length","hasClass","isMobile","loadedPrettifyHandler","prettyPrint","split","forEach","v","get","msg","text","test","localStorage","setItem","getItem","append","checkInViewBox","scrollTop","clientHeight","each","effect","userClickPaused","top","offset","pause","open","ctrlTpl","handler","instance","eventType","clientX","attr","call","bind","index","createInstance","$instance","eq","throttle","scroll"],"mappings":"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","file":"site.js","sourcesContent":["var localConfig = {\r\n    plugin: {\r\n        prettify: {\r\n            css: '/plugin/prettify/prettify.min.css',\r\n            js: '/plugin/prettify/prettify.min.js'\r\n        }\r\n    }\r\n};\r\nvar prodConfig = {\r\n    plugin: {\r\n        prettify: {\r\n            css: '//cdn.bootcss.com/prettify/r298/prettify.min.css',\r\n            js: '//cdn.bootcss.com/prettify/r298/prettify.min.js'\r\n        }\r\n    }\r\n};\r\nvar siteConfig = $.extend( true, {}, localConfig );\r\nvar isProdEnv = location.hostname !== 'localhost' &&\r\n    location.hostname !== '127.0.0.1';\r\nif( isProdEnv ){\r\n    $.extend( true, siteConfig, prodConfig );\r\n}\r\n\r\n$(function(){\r\n    // common function\r\n    function loadjs( url, callback, error ){\r\n        var script = document.createElement('script');\r\n        script.onload = callback;\r\n        script.onerror = error;\r\n        script.src = url;\r\n        document.getElementsByTagName('head')[0].appendChild( script );\r\n    }\r\n    function loadcss( url, callback, error ){\r\n        var link = document.createElement('link');\r\n        link.onload = callback;\r\n        link.onerror = error;\r\n        link.href = url;\r\n        link.rel = 'stylesheet';\r\n        document.getElementsByTagName('head')[0].appendChild( link );\r\n    }\r\n    function setActive( $parent, $this ){\r\n        $parent.find('.active').removeClass('active');\r\n        $this.addClass('active');\r\n    }\r\n\r\n    window.isMobile = $('.mobile-menu').css('display') === 'block';\r\n    $(window).resize(function(){\r\n        window.isMobile = $('.mobile-menu').css('display') === 'block';\r\n        setFooter();\r\n    });\r\n\r\n    // nav PC端导航栏滑动效果\r\n    function nav(){\r\n        var $nav = $('.com-header .nav');\r\n        var $active = $nav.find('.active');\r\n        var $slideblock = $nav.find('.slideblock');\r\n\r\n        function changeActive( $el ){\r\n            setActive( $nav, $el );\r\n            setSlideblock( $el );\r\n        }\r\n\r\n        function setSlideblock( $el ){\r\n            var l = $el.position().left + parseInt($el.css('paddingLeft')) + .5;\r\n            $slideblock.css({\r\n                width: $el.width(),\r\n                transform: 'translate('+ l +'px,0)'\r\n            });\r\n        }\r\n\r\n        setSlideblock( $active );\r\n        setTimeout(function(){\r\n            $slideblock.addClass('animation').removeClass('hidden');\r\n        }, 0 );\r\n\r\n        $nav.find('a').hover(function(){\r\n            changeActive( $(this) );\r\n        }, function(){\r\n            changeActive( $active );\r\n        });\r\n\r\n        $(window).resize(function(){\r\n            clearTimeout( this.timer );\r\n            this.timer = setTimeout(function(){\r\n                setSlideblock( $nav.find('.active') );\r\n            }, 400 );\r\n        });\r\n    }\r\n    nav();\r\n\r\n    // footer 当页面不够高时，设置页脚为绝对定位到底部\r\n    function setFooter(){\r\n        if( $('body').height() > $('.com-header').outerHeight() +\r\n            $('.com-body').outerHeight() +\r\n            $('.com-footer').outerHeight() ){\r\n            $('.com-footer').css({\r\n                width: '100%',\r\n                position: 'absolute',\r\n                zIndex: 8,\r\n                bottom: 0\r\n            });\r\n        }\r\n        $('.com-footer').show();\r\n    }\r\n    setFooter();\r\n\r\n    if( $('#page-example').length ){\r\n\r\n        // load and prettify code templates\r\n        var loadedPrettifyHandler = function(){\r\n            if( $('.prettyprint').length ){\r\n                prettyPrint();\r\n            }else if( $('.quick-getting').length ){\r\n                'import use use-method config-default'.split(' ').forEach(function( v ){\r\n                    $.get('/code-tpl/'+ v +'.html', function( msg ){\r\n                        $( '.' + v ).text( msg ).addClass( 'prettyprint' );\r\n                        prettyPrint();\r\n                    });\r\n                });\r\n            }\r\n        };\r\n        loadcss( siteConfig.plugin.prettify.css, function () {}, function(){\r\n            loadcss( localConfig.plugin.prettify.css );\r\n        });\r\n        loadjs( siteConfig.plugin.prettify.js, loadedPrettifyHandler, function(){\r\n            loadjs( localConfig.plugin.prettify.js, loadedPrettifyHandler );\r\n        });\r\n\r\n    }\r\n\r\n    // flag 必读图标的状态\r\n    if( !/\\/examples\\/quick-getting/i.test( location.href ) ){\r\n        if( !window.localStorage.getItem( 'read' ) ){\r\n            $('.com-body >.menu >h5:eq(1)').append('<i class=\"essential pa\">必读</i>');\r\n        }\r\n    }else{\r\n        window.localStorage.setItem( 'read', true );\r\n    }\r\n\r\n    // Demo实例的优化，控制\r\n    (function(){\r\n        var ctrlTpl =\r\n            '<div class=\"ctrl\">' +\r\n                '<div class=\"btn btn-default open\">开启·OPEN</div>' +\r\n                '<div class=\"btn btn-default pause\">暂停·PAUSE</div>' +\r\n            '</div>';\r\n\r\n        var handler = function( instance ){\r\n            var $this = $(this);\r\n            var eventType = $this.hasClass('open') ? 'open' : 'pause';\r\n            // 如果有clientX，表示是事件处理函数，反之则是函数调用\r\n            var instance = instance.clientX ?\r\n                $this.parents('.instance')[0] : instance;\r\n\r\n            if( instance.effect ){\r\n                instance.effect[ eventType ]();\r\n                instance.userClickPaused = eventType === 'pause';\r\n            }\r\n        };\r\n\r\n        $('.instance').each(function(){\r\n            if( $(this).attr('data-ctrl') !== 'none' ){\r\n                $(this).append( ctrlTpl )\r\n                    .on('click.ctrl', '.ctrl .btn', handler );\r\n            }\r\n        });\r\n\r\n        $('#first-instance-ctrl').on('click', '.btn', function(){\r\n            handler.call( this, $('.instance:first')[0] );\r\n        });\r\n\r\n        // 创建公共的方式用于创建并关联Demo实例\r\n        window.bind = function( index, createInstance ){\r\n            var $instance = $('.instance').eq( index );\r\n            $instance[0].effect = createInstance( $instance.find('.demo')[0] );\r\n        };\r\n\r\n        // 检查动画元素是否在可视区内，不在则暂停运动，在则打开运动\r\n        function checkInViewBox(){\r\n            var scrollTop = $(window).scrollTop();\r\n            var clientHeight= $(window).height();\r\n            $('.instance').each(function(){\r\n                if( this.effect && !this.userClickPaused ){\r\n                    var $this = $(this);\r\n                    var top = $this.offset().top;\r\n                    var outerHeight = $this.outerHeight();\r\n\r\n                    if( scrollTop > top + outerHeight ||\r\n                        scrollTop + clientHeight < top ){\r\n\r\n                        // 不在可视区范围内\r\n                        this.effect.pause();\r\n                    }else{\r\n                        this.effect.open();\r\n                    }\r\n\r\n                }\r\n            });\r\n        }\r\n\r\n        // 让所有的实例都创建完毕再执行 演示Demo的性能优化\r\n        setTimeout(function(){\r\n            checkInViewBox();\r\n            var timer = null;\r\n            function throttle(){\r\n                clearTimeout( timer );\r\n                timer = setTimeout(function(){\r\n                    checkInViewBox();\r\n                }, 200 );\r\n            }\r\n            $(window).resize( throttle )\r\n                .scroll( throttle );\r\n        }, 0 );\r\n    })();\r\n\r\n    // mobile 移动端页面UI、事件等处理\r\n    function mobileHandler(){\r\n        $('.mobile-menu').click(function(){\r\n            $('.com-header .nav').toggleClass('menu-show');\r\n        });\r\n\r\n        $(document).on('click.hideMenu', function( event ){\r\n            var $target = $(event.target);\r\n            if( !$target.parents('.nav').length &&\r\n                !$target.parents('.mobile-menu').length &&\r\n                !$target.hasClass('mobile-menu') &&\r\n                !$target.hasClass('menu-show') ){\r\n                $('.com-header .nav').removeClass('menu-show');\r\n            }\r\n        });\r\n    }\r\n    mobileHandler();\r\n});"],"sourceRoot":"/source/"}