{"version":3,"sources":["site.js"],"names":["$","loadjs","url","callback","script","document","createElement","onload","src","getElementsByTagName","appendChild","loadcss","link","href","rel","setActive","$parent","$this","find","removeClass","addClass","determineScreenSize","isMobile","css","nav","changeActive","$el","$nav","setSlideblock","l","position","left","parseInt","$slideblock","width","transform","$active","setTimeout","hover","this","window","resize","clearTimeout","timer","setFooter","height","outerHeight","bottom","show","pageIndex","settings","eventElem","range","max","num","Particleground","particle","pageChangelog","on","next","stop","slideToggle","mobileHandler","click","toggleClass","event","$target","target","parents","length","hasClass","prettyPrint","split","forEach","v","get","msg","text","d","dis","test","location","localStorage","setItem","getItem","append","route","#page-index","#changelog","key"],"mappings":"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","file":"site.js","sourcesContent":["$(function(){\r\n    // common\r\n    function loadjs( url, callback ){\r\n        var script = document.createElement('script');\r\n        script.onload = callback;\r\n        script.src = url;\r\n        document.getElementsByTagName('head')[0].appendChild( script );\r\n    }\r\n    function loadcss( url, callback ){\r\n        var link = document.createElement('link');\r\n        link.onload = callback;\r\n        link.href = url;\r\n        link.rel = 'stylesheet';\r\n        document.getElementsByTagName('head')[0].appendChild( link );\r\n    }\r\n    function setActive( $parent, $this ){\r\n        $parent.find('.active').removeClass('active');\r\n        $this.addClass('active');\r\n    }\r\n\r\n    var isMobile = false;\r\n    function determineScreenSize(){\r\n        isMobile = $('.mobile-menu').css('display') === 'block';\r\n    }\r\n    determineScreenSize();\r\n    /*$(window).resize(function(){\r\n        determineScreenSize();\r\n        isMobile && mobileHandler();\r\n    });*/\r\n\r\n    // nav\r\n    function nav(){\r\n        var $nav = $('.com-header .nav');\r\n        var $active = $nav.find('.active');\r\n        var $slideblock = $nav.find('.slideblock');\r\n\r\n        function changeActive( $el ){\r\n            setActive( $nav, $el );\r\n            setSlideblock( $el );\r\n        }\r\n\r\n        function setSlideblock( $el ){\r\n            var l = $el.position().left + parseInt($el.css('paddingLeft')) + .5;\r\n            $slideblock.css({\r\n                width: $el.width(),\r\n                transform: 'translate('+ l +'px,0)'\r\n            });\r\n        }\r\n\r\n        setSlideblock( $active );\r\n        setTimeout(function(){\r\n            $slideblock.addClass('animation').removeClass('hidden');\r\n        }, 0 );\r\n\r\n        $nav.find('a').hover(function(){\r\n            changeActive( $(this) );\r\n        }, function(){\r\n            changeActive( $active );\r\n        });\r\n\r\n        $(window).resize(function(){\r\n            clearTimeout( this.timer );\r\n            this.timer = setTimeout(function(){\r\n                setSlideblock( $nav.find('.active') );\r\n            }, 400 );\r\n        });\r\n    }\r\n    nav();\r\n\r\n    // footer 当页面不够高时，设置页脚为相对定位到底部\r\n    setFooter();\r\n    function setFooter(){\r\n        if( $('body').height() > $('.page-header').outerHeight() +\r\n            $('.page-content').outerHeight() +\r\n            $('.page-footer').outerHeight() ){\r\n            $('.page-footer').css({\r\n                width: '100%',\r\n                position: 'absolute',\r\n                bottom: 0\r\n            });\r\n        }\r\n        $('.page-footer').show();\r\n    }\r\n\r\n    // load & prettify code templates\r\n    loadcss( '//cdn.bootcss.com/prettify/r298/prettify.min.css' );\r\n    loadjs( '//cdn.bootcss.com/prettify/r298/prettify.min.js', function(){\r\n        if( $('.prettyprint').length ){\r\n            prettyPrint();\r\n        }else if( $('.quick-getting').length ){\r\n            'import use use-method config-default'.split(' ').forEach(function( v ){\r\n                $.get('/code-tpl/'+ v +'.html', function( msg ){\r\n                    $( '.' + v ).text( msg ).addClass( 'prettyprint' );\r\n                    prettyPrint();\r\n                    if( v === 'use' ){\r\n                        window.d = new Particleground.particle( '#demo', {\r\n                            dis: 80,\r\n                            range: 60\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n\r\n    // 必读flag的显示与否\r\n    if( !/\\/examples\\/quick-getting/i.test( location.href ) ){\r\n        if( !window.localStorage.getItem( 'read' ) ){\r\n            $('.eg-container >.menu >h5:eq(1)').append('<i class=\"essential pa\">必读</i>');\r\n        }\r\n    }else{\r\n        window.localStorage.setItem( 'read', true );\r\n    }\r\n\r\n    // route\r\n    var route = {\r\n        '#page-index': pageIndex,\r\n        '#changelog': pageChangelog\r\n    };\r\n    (function(){\r\n        for( var key in route ){\r\n            if( $( key ).length ){\r\n                route[ key ]();\r\n                break;\r\n            }\r\n        }\r\n    })();\r\n\r\n    function pageIndex(){\r\n        var settings = {\r\n            eventElem: document\r\n        };\r\n        if( isMobile ){\r\n            settings.range = 80;\r\n            settings.max = 2;\r\n            settings.num = .4;\r\n        }\r\n        new Particleground.particle( '.bg', settings );\r\n    }\r\n\r\n    function pageChangelog(){\r\n        $('#changelog').on('click', '.accordion > .header', function(){\r\n            $(this).next().stop().slideToggle(600);\r\n        });\r\n    }\r\n\r\n    // mobile\r\n    function mobileHandler(){\r\n        $('.mobile-menu').click(function(){\r\n            $('.com-header .nav').toggleClass('menu-show');\r\n        });\r\n\r\n        $(document).on('click.hideMenu', function( event ){\r\n            var $target = $(event.target);\r\n            if( !$target.parents('.nav').length &&\r\n                !$target.parents('.mobile-menu').length &&\r\n                !$target.hasClass('mobile-menu') &&\r\n                !$target.hasClass('menu-show') ){\r\n                $('.com-header .nav').removeClass('menu-show');\r\n            }\r\n        });\r\n    }\r\n    isMobile && mobileHandler();\r\n});"],"sourceRoot":"/source/"}