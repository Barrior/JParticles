/**
 * Particleground.js v1.0.0 (https://github.com/Barrior/Particleground.js)
 * Copyright 2016 Barrior <Barrior@qq.com>
 * Licensed under the MIT (https://opensource.org/licenses/mit-license.php)
 */
!function(t){"object"==typeof module&&module.exports?module.exports=t():t()}(function(){"use strict";function t(t){return parseInt(t,10)}function e(t){return t.replace(T,"")}function i(){return"#"+C().toString(16).slice(-6)}function n(t,e){return C()*(t-e)+e}function o(){var t,e,i=arguments,n=i[0]||{},s=!1,r=i.length,c=1;for("boolean"==typeof n&&(s=n,n=i[1]||{},c++);c<r;c++)for(e in i[c])t=i[c][e],s&&(a(t)||P(t))?n[e]=o(s,P(t)?[]:{},t):n[e]=t;return n}function s(t,e){return toString.call(t)===e}function r(t){return s(t,"[object Function]")}function a(t){return s(t,"[object Object]")}function c(t){return!(!t||1!==t.nodeType)}function f(e,i){var n=x.getComputedStyle(e)[i];return k.test(n)?t(n):n}function h(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}}function u(t,e,i){t.addEventListener(e,i)}function l(t,e,i){t.removeEventListener(e,i)}function p(t,e,i,n){A&&(t.container=c(i)?i:E.querySelector(i))&&(t.set=o({},z,e.defaultConfig,n),t.c=E.createElement("canvas"),t.cw=t.c.width=f(t.container,"width"),t.ch=t.c.height=f(t.container,"height"),t.cxt=t.c.getContext("2d"),t.paused=!1,t.container.innerHTML="",t.container.appendChild(t.c),t.color=m(t.set.color),t.init())}function d(t,e){return t>0&&t<1?e*t:t}function m(t){if("string"==typeof t)return function(){return t};var e=!!P(t)&&t.length,n=function(){return t[b(C()*e)]};return e?n:i}function v(t,e){t.set&&!t.paused&&(r(e)&&e.call(t,"pause"),t.paused=!0)}function g(t,e){t.set&&t.paused&&(r(e)&&e.call(t,"open"),t.paused=!1,t.draw())}function y(t,e){t.set.resize&&u(x,"resize",function(){var i=t.cw,n=t.ch;t.cw=t.c.width=f(t.container,"width"),t.ch=t.c.height=f(t.container,"height");var o=t.cw/i,s=t.ch/n;P(t.dots)&&t.dots.forEach(function(t){a(t)&&(t.x*=o,t.y*=s)}),r(e)&&e.call(t,o,s),t.paused&&t.draw()})}function w(t,i,n){e(i).split(",").forEach(function(e){t[e]=function(){L[e](this,n)}})}var x=window,E=document,C=Math.random,b=Math.floor,P=Array.isArray,A=!!E.createElement("canvas").getContext,T=/\s/g,k=/^\d+(\.\d+)?[a-z]+$/i,z={opacity:1,color:[],resize:!0};x.requestAnimationFrame=function(t){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(x);var L={pInt:t,trimAll:e,randomColor:i,limitRandom:n,extend:o,typeChecking:s,isFunction:r,isPlainObject:a,isElem:c,getCss:f,offset:h,createCanvas:p,scaleValue:d,setColor:m,pause:v,open:g,resize:y,modifyPrototype:w},S={version:"1.0.0",canvasSupport:A,util:L,inherit:{requestAnimationFrame:function(){!this.paused&&x.requestAnimationFrame(this.draw.bind(this))},pause:function(){v(this)},open:function(){g(this)},resize:function(){y(this)}},event:{on:u,off:l},extend:function(t){return o(t,this.inherit),this}};return"function"==typeof define&&define.amd&&define(function(){return S}),x.Particleground=S,S}),+function(t,e){"use strict";function i(t,e,i){for(var n=s.getCss;t=t.offsetParent;)if(n(t,e)===i)return!0;return!1}function n(t,e){s.createCanvas(this,n,t,e)}function o(t){var e=this,i=e.set;i.num>0&&i.range>0&&(t="pause"===t?"off":"on",r[t](i.eventElem,"mousemove",e.moveHandler),r[t](i.eventElem,"touchmove",e.moveHandler))}var s=e.util,r=e.event,a=Math.random,c=Math.abs,f=2*Math.PI;n.defaultConfig={speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null};var h=n.prototype={version:"1.0.0",init:function(){this.set.num>0&&(this.set.range>0&&(s.isElem(this.set.eventElem)||this.set.eventElem===document||(this.set.eventElem=this.c),this.posX=a()*this.cw,this.posY=a()*this.ch,this.event()),this.createDots(),this.draw(),this.resize())},createDots:function(){for(var t,e=this.cw,i=this.ch,n=this.set,o=this.color,r=s.limitRandom,a=n.speed,c=n.max,f=n.min,h=s.pInt(s.scaleValue(n.num,e)),u=[];h--;)t=r(c,f),u.push({x:r(e-t,t),y:r(i-t,t),r:t,vx:r(a,.5*-a)||a,vy:r(a,.5*-a)||a,color:o()});this.dots=u},draw:function(){var t=this.set;if(!(t.num<=0)){var e=this.cw,i=this.ch,n=this.cxt,o=this.paused;n.clearRect(0,0,e,i),n.lineWidth=t.lineWidth,n.globalAlpha=t.opacity,this.dots.forEach(function(t){var s=t.r;if(n.save(),n.beginPath(),n.arc(t.x,t.y,s,0,f),n.fillStyle=t.color,n.fill(),n.restore(),!o){t.x+=t.vx,t.y+=t.vy;var r=t.x,a=t.y;(r+s>=e||r-s<=0)&&(t.vx*=-1),(a+s>=i||a-s<=0)&&(t.vy*=-1)}}),t.range>0&&this.connectDots(),this.requestAnimationFrame()}},connectDots:function(){var t=this.cxt,e=this.set,i=e.dis,n=this.posX,o=this.posY,s=e.range,r=this.dots,a=r.length;r.forEach(function(e,f){for(var h=e.x,u=e.y,l=e.color;++f<a;){var p=r[f],d=p.x,m=p.y;c(h-d)<=i&&c(u-m)<=i&&(c(h-n)<=s&&c(u-o)<=s||c(d-n)<=s&&c(m-o)<=s)&&(t.save(),t.beginPath(),t.moveTo(h,u),t.lineTo(d,m),t.strokeStyle=l,t.stroke(),t.restore())}})},getElemOffset:function(){return this.elemOffset=this.elemOffset?s.offset(this.set.eventElem):null},event:function(){this.set.eventElem!==document&&(this.elemOffset=!0),this.moveHandler=function(t){this.posX=t.pageX,this.posY=t.pageY,this.getElemOffset()&&(i(this.set.eventElem,"position","fixed")&&(this.posX=t.clientX,this.posY=t.clientY),this.posX-=this.elemOffset.left,this.posY-=this.elemOffset.top)}.bind(this),o.call(this)}};e.extend(h),s.modifyPrototype(h,"pause, open",o),s.modifyPrototype(h,"resize",function(t,e){this.set.num>0&&this.set.range>0&&(this.posX*=t,this.posY*=e,this.getElemOffset())}),e.particle=h.constructor=n}(window,Particleground),+function(t,e){"use strict";function i(t,e){n.createCanvas(this,i,t,e)}var n=e.util,o=Math.random,s=2*Math.PI;i.defaultConfig={color:"#fff",max:6.5,min:.4,speed:.4};var r=i.prototype={version:"1.0.0",init:function(){this.dots=[],this.createDots(),this.draw(),this.resize()},snowShape:function(){var t=this.color,e=this.cw,i=this.set,s=i.speed,r=n.limitRandom(i.max,i.min);return{x:o()*e,y:-r,r:r,vx:o()||.4,vy:r*s,color:t()}},createDots:function(){for(var t=n.pInt(6*o()),e=this.dots;t--;)e.push(this.snowShape())},draw:function(){var t=this,e=t.set,i=t.cxt,n=t.cw,r=t.ch,a=t.paused;i.clearRect(0,0,n,r),i.globalAlpha=e.opacity,t.dots.forEach(function(e,c,f){var h=e.x,u=e.y,l=e.r;i.save(),i.beginPath(),i.arc(h,u,l,0,s),i.fillStyle=e.color,i.fill(),i.restore(),a||(e.x+=e.vx,e.y+=e.vy,o()>.99&&o()>.5&&(e.vx*=-1),h<0||h-l>n?f.splice(c,1,t.snowShape()):u-l>=r&&f.splice(c,1))}),!a&&o()>.9&&t.createDots(),t.requestAnimationFrame()}};e.extend(r),e.snow=r.constructor=i}(window,Particleground),+function(t,e){"use strict";function i(t,e){n.createCanvas(this,i,t,e)}var n=e.util,o=n.limitRandom,s=n.randomColor,r=n.scaleValue,a=Math.random,c=Math.sin,f=2*Math.PI,h="undefined",u=Array.isArray;i.defaultConfig={num:3,fillColor:[],lineColor:[],lineWidth:[],offsetLeft:[],offsetTop:[],crestHeight:[],rippleNum:[],speed:[],fill:!1,stroke:!0};var l=i.prototype={version:"1.0.0",init:function(){this.set.num>0&&(this.rippleLength=[],this.attrNormalize(),this.createDots(),this.draw(),this.resize())},attrNormalize:function(){["fillColor","lineColor","lineWidth","offsetLeft","offsetTop","crestHeight","rippleNum","speed","fill","stroke"].forEach(function(t){this.attrProcessor(t)}.bind(this))},attrProcessor:function(t){var e=this.set.num,i=this.set[t],n=i,o="offsetLeft"===t?this.cw:this.ch;for(u(i)||(n=this.set[t]=[]);e--;){var s=u(i)?i[e]:i;n[e]=typeof s===h?this.generateAttrVal(t):this.scaleValue(t,s,o),"rippleNum"===t&&(this.rippleLength[e]=this.cw/n[e])}},scaleValue:function(t,e,i){return"offsetTop"===t||"offsetLeft"===t||"crestHeight"===t?r(e,i):e},generateAttrVal:function(t){var e=this.cw,i=this.ch;switch(t){case"lineColor":case"fillColor":t=s();break;case"lineWidth":t=o(2,.2);break;case"offsetLeft":t=a()*e;break;case"offsetTop":case"crestHeight":t=a()*i;break;case"rippleNum":t=o(e/2,1);break;case"speed":t=o(.4,.1);break;case"fill":t=!1;break;case"stroke":t=!0}return t},setOffsetTop:function(t){this.set.num>0&&(!u(t)&&t>0&&t<1&&(t*=this.ch),this.set.offsetTop.forEach(function(e,i,n){n[i]=u(t)?t[i]||e:t}))},createDots:function(){for(var t=this.dots=[],e=this.rippleLength,i=this.cw,n=this.set.num;n--;){for(var o=[],s=f/e[n],r=0;r<i;r++)o.push({x:r,y:r*s});t[n]=o}},draw:function(){var t=this.set;if(!(t.num<=0)){var e=this.cxt,i=this.cw,n=this.ch,o=this.paused;e.clearRect(0,0,i,n),e.globalAlpha=t.opacity,this.dots.forEach(function(s,r){var a=t.crestHeight[r],f=t.offsetLeft[r],h=t.offsetTop[r],u=t.speed[r];e.save(),e.beginPath(),s.forEach(function(t,i){e[i?"lineTo":"moveTo"](t.x,a*c(t.y+f)+h),!o&&(t.y-=u)}),t.fill[r]&&(e.lineTo(i,n),e.lineTo(0,n),e.closePath(),e.fillStyle=t.fillColor[r],e.fill()),t.stroke[r]&&(e.lineWidth=t.lineWidth[r],e.strokeStyle=t.lineColor[r],e.stroke()),e.restore()}),this.requestAnimationFrame()}}};e.extend(l),n.modifyPrototype(l,"resize",function(t,e){this.set.num>0&&this.dots.forEach(function(i){i.forEach(function(i){i.x*=t,i.y*=e})})}),e.wave=l.constructor=i}(window,Particleground);