/**
 * Particleground.js v1.0.0 (https://github.com/Barrior/Particleground.js)
 * Copyright 2016 Barrior <Barrior@qq.com>
 * Licensed under the MIT (https://opensource.org/licenses/mit-license.php)
 */
!function(t){"object"==typeof module&&module.exports?module.exports=t():t()}(function(){"use strict";function t(t){return parseInt(t,10)}function e(){return"#"+g().toString(16).slice(-6)}function i(t,e){return g()*(t-e)+e}function n(){var t,e,i=arguments,o=i[0]||{},s=!1,a=i.length,c=1;for("boolean"==typeof o&&(s=o,o=i[1]||{},c++);c<a;c++)for(e in i[c])t=i[c][e],s&&(r(t)||b(t))?o[e]=n(s,b(t)?[]:{},t):o[e]=t;return o}function o(t,e){return Object.prototype.toString.call(t)===e}function s(t){return o(t,"[object Function]")}function r(t){return o(t,"[object Object]")}function a(t){return t&&"object"==typeof t&&1===t.nodeType}function c(e,i){var n=y.getComputedStyle(e)[i];return C.test(n)?t(n):n}function f(t){for(var e=t.offsetLeft||0,i=t.offsetTop||0;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}}function h(t,e,i){t.addEventListener(e,i)}function u(t,e,i){t.removeEventListener(e,i)}function l(t){var i=!!b(t)&&t.length,n=function(){return t[x(g()*i)]};return i?n:e}function p(t,e){if(!E)return!1;if(a(t))e.container=t;else if(!(e.container=w.querySelector(t)))throw new Error(t+" is not defined");return e.c=w.createElement("canvas"),e.cw=e.c.width=c(e.container,"width"),e.ch=e.c.height=c(e.container,"height"),e.cxt=e.c.getContext("2d"),e.paused=!1,e.container.innerHTML="",!!e.container.appendChild(e.c)}function d(t,e){E&&!t.paused&&(t.paused=!0,s(e)&&e.call(t))}function m(t,e){E&&t.paused&&(s(e)&&e.call(t),t.paused=!1,t.draw())}function v(t,e){t.set.resize&&h(y,"resize",function(){var i=t.cw,n=t.ch;t.cw=t.c.width=c(t.container,"width"),t.ch=t.c.height=c(t.container,"height");var o=t.cw/i,r=t.ch/n;t.dots.forEach(function(t){t.x*=o,t.y*=r}),s(e)&&e.call(t,o,r),t.paused&&t.draw()})}var y=window,w=document,g=Math.random,x=Math.floor,b=Array.isArray,E=!!w.createElement("canvas").getContext,C=/^\d+(\.\d+)?[a-z]+$/i;y.requestAnimationFrame=function(t){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(y);var T={version:"1.0.0",canvasSupport:E,util:{pInt:t,randomColor:e,createColor:l,limitRandom:i,extend:n,typeChecking:o,isFunction:s,isPlainObject:r,isElem:a,getCss:c,offset:f,createCanvas:p,pause:d,open:m,resize:v},inherit:{color:function(){return this.color=l(this.set.color),this.color()},pause:function(){d(this)},open:function(){m(this)},resize:function(){v(this)},requestAnimationFrame:function(){!this.paused&&y.requestAnimationFrame(this.draw.bind(this))}},event:{on:h,off:u},extend:function(t){return n(t,this.inherit),this}};return"function"==typeof define&&define.amd&&define(function(){return T}),y.Particleground=T,T}),+function(t,e){"use strict";function i(t,e){n.createCanvas(t,this)&&(this.set=n.extend({},i.configDefault,e),n.isElem(this.set.eventElem)||this.set.eventElem===document||(this.set.eventElem=this.c),this.posX=c()*this.cw,this.posY=c()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var n=e.util,o=e.event,s=o.on,r=o.off,a=Math,c=a.random,f=a.abs,h=2*a.PI;i.configDefault={opacity:.6,color:null,speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null,resize:!0};var u=i.prototype={version:"1.0.0",createDot:function(){for(var t=this.set,e=t.speed,i=t.num>=1?t.num:this.cw*t.num,o=[],s=0;s<i;s++){var r=n.limitRandom(t.max,t.min);o.push({x:n.limitRandom(this.cw-r,r),y:n.limitRandom(this.ch-r,r),r:r,vx:n.limitRandom(e,.5*-e)||e,vy:n.limitRandom(e,.5*-e)||e,color:this.color()})}this.dots=o},draw:function(){var t=this.set,e=this.cw,i=this.ch,n=this.cxt;n.clearRect(0,0,e,i),n.lineWidth=t.lineWidth,n.globalAlpha=t.opacity,this.dots.forEach(function(t){var o=t.r;n.save(),n.beginPath(),n.arc(t.x,t.y,o,0,h),n.fillStyle=t.color,n.fill(),n.restore(),t.x+=t.vx,t.y+=t.vy;var s=t.x,r=t.y;(s+o>=e||s-o<=0)&&(t.vx*=-1),(r+o>=i||r-o<=0)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,i=e.dis,n=this.posX,o=this.posY,s=e.range,r=this.dots;return r.forEach(function(e){var a=e.x,c=e.y;f(a-n)<=s&&f(c-o)<=s&&r.forEach(function(n){var o=n.x,s=n.y;f(a-o)<=i&&f(c-s)<=i&&(t.save(),t.beginPath(),t.moveTo(a,c),t.lineTo(o,s),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.set.eventElem!==document&&(this.elemOffset=n.offset(this.set.eventElem)),this.handler=function(t){this.posX=t.pageX,this.posY=t.pageY,this.elemOffset&&("fixed"===n.getCss(this.set.eventElem,"position")?(this.posX=t.clientX,this.posX=t.clientY):(this.posX-=this.elemOffset.left,this.posY-=this.elemOffset.top))}.bind(this),s(this.set.eventElem,"mousemove",this.handler)}};e.extend(u),u.pause=function(){n.pause(this,function(){r(this.set.eventElem,"mousemove",this.handler)})},u.open=function(){n.open(this,function(){s(this.set.eventElem,"mousemove",this.handler)})},u.resize=function(){n.resize(this,function(t,e){this.posX*=t,this.posY*=e,this.elemOffset=this.elemOffset?n.offset(this.set.eventElem):""})},e.particle=u.constructor=i}(window,Particleground),+function(t,e){"use strict";function i(t,e){n.createCanvas(t,this)&&(this.set=n.extend({},i.configDefault,e),this.dots=[],this.createDot(),this.draw(),this.resize())}var n=e.util,o=Math.random,s=2*Math.PI;i.configDefault={opacity:1,color:["#fff"],max:6.5,min:.4,speed:.4,resize:!0},i.prototype={version:"1.0.0",snowShape:function(){var t=this,e=t.cw,i=t.set,s=i.speed,r=n.limitRandom(i.max,i.min);return{x:o()*e,y:-r,r:r,vx:o()||.4,vy:r*s,color:t.color()}},createDot:function(){for(var t=6*o(),e=this.dots,i=0;i<t;i++)e.push(this.snowShape())},draw:function(){var t=this,e=t.set,i=t.cxt,n=t.cw,r=t.ch,a=t.dots;i.clearRect(0,0,n,r),i.globalAlpha=e.opacity,a.forEach(function(e,c){var f=e.x,h=e.y,u=e.r;i.save(),i.beginPath(),i.arc(f,h,u,0,s),i.fillStyle=e.color,i.fill(),i.restore(),e.x+=e.vx,e.y+=e.vy,o()>.99&&o()>.5&&(e.vx*=-1),f<0||f-u>n?(a.splice(c,1),a.push(t.snowShape())):h-u>=r&&a.splice(c,1)}),o()>.9&&t.createDot(),this.requestAnimationFrame()}},e.extend(i.prototype),e.snow=i.prototype.constructor=i}(window,Particleground),+function(t,e){"use strict";function i(t,e){n.createCanvas(t,this)&&(this.set=n.extend({},i.configDefault,e),this.initAttr(),this.createDot(),this.draw(),this.resize())}var n=e.util,o=Math.random,s=Math.sin,r=2*Math.PI,a="undefined",c=Array.isArray;i.configDefault={opacity:1,lineColor:[],fillColor:[],num:null,lineWidth:[],offsetLeft:[],offsetTop:[],crest:[],rippleNum:[],speed:[],area:!1,stroke:!0,resize:!0},i.prototype={version:"1.0.0",initAttr:function(){function t(t){var n=h[t];if(c(n)){if("offsetTop"===t||"crest"===t||"offsetLeft"===t)for(var o="offsetLeft"===t?r:f,s=0;s<p;s++)n[s]=typeof n[s]===a?e(t):i(n[s],o);else if(n.length<p)for(var s=0,u=p-n.length;s<u;s++)n.push(e(t))}else if(h[t]=[],"number"==typeof n||"boolean"==typeof n||"string"==typeof n)for(var s=0;s<p;s++)"offsetTop"===t||"crest"===t?n=i(n,f):"offsetLeft"===t?n=i(n,r):"rippleNum"===t&&d.push(r/n),h[t].push(n)}function e(t){switch(t){case"lineColor":case"fillColor":t=u();break;case"lineWidth":t=l(2,.2);break;case"offsetLeft":t=o()*r;break;case"offsetTop":case"crest":t=o()*f;break;case"rippleNum":t=l(r/2,1),d.push(r/t);break;case"speed":t=l(.4,.1);break;case"area":t=!1;break;case"stroke":t=!0}return t}function i(t,e){return t>0&&t<1?t*e:t}var s=this,r=s.cw,f=s.ch,h=s.set,u=n.randomColor,l=n.limitRandom,p=h.num=h.num||l(f/2,1),d=this.rippleLength=[];["lineColor","fillColor","lineWidth","offsetLeft","offsetTop","crest","rippleNum","speed","area","stroke"].forEach(function(e){t(e)})},setOffsetTop:function(t){c(t)?this.set.offsetTop.forEach(function(e,i,n){n[i]=t[i]||e}):(t>0&&t<1&&(t*=this.ch),this.set.offsetTop.forEach(function(e,i,n){n[i]=t}))},createDot:function(){for(var t=this.set,e=this.cw,i=t.num,n=[],o=0;o<i;o++){for(var s=[],a=r/this.rippleLength[o],c=0;c<e;c++)s.push({x:c,y:c*a});n.push(s)}this.dots=n},draw:function(){var t=this.cxt,e=this.cw,i=this.ch,n=this.set;t.clearRect(0,0,e,i),t.globalAlpha=n.opacity,this.dots.forEach(function(o,r){t.save(),t.beginPath();var a=n.crest[r],c=n.offsetLeft[r],f=n.offsetTop[r],h=n.speed[r];o.forEach(function(e,i){t[i?"lineTo":"moveTo"](e.x,a*s(e.y+c)+f),e.y-=h}),n.area[r]&&(t.lineTo(e,i),t.lineTo(0,i),t.closePath(),t.fillStyle=n.fillColor[r],t.fill()),n.stroke[r]&&(t.lineWidth=n.lineWidth[r],t.strokeStyle=n.lineColor[r],t.stroke()),t.restore()}),this.requestAnimationFrame()}},e.extend(i.prototype),e.wave=i.prototype.constructor=i}(window,Particleground);