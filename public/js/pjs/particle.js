+function(t,e){"use strict";function i(t,e){s.createCanvas(t,this)&&(this.set=s.extend({},i.configDefault,e),null===this.set.eventElem&&(this.set.eventElem=this.c),this.posX=a()*this.cw,this.posY=a()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var s=e.util,o=e.event,n=o.on,h=o.off,r=Math,a=r.random,c=r.floor,l=r.abs,f=2*r.PI;i.configDefault={opacity:.6,color:[],speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,r:160,eventElem:null,resize:!0};var m=i.prototype={version:"1.0.0",createDot:function(){var t=this.cw,e=this.ch,i=this.set,o=i.speed,n=t*i.num,h=s.randomColor,r=i.color.length,l=[],f=0;for(i.num>=1&&(n=i.num),r&&(h=function(){return i.color[c(a()*r)]});n>f;f++){var m=s.limitRandom(i.max,i.min);l.push({x:s.limitRandom(t-m,m),y:s.limitRandom(e-m,m),r:m,vx:s.limitRandom(o,.5*-o)||o,vy:s.limitRandom(o,.5*-o)||o,color:h()})}this.dots=l},draw:function(){var t=this.set,e=this.cw,i=this.ch,s=this.cxt;s.clearRect(0,0,e,i),t.resize&&(s.lineWidth=t.lineWidth,s.globalAlpha=t.opacity),this.dots.forEach(function(t){var o=t.r;s.save(),s.beginPath(),s.arc(t.x,t.y,o,0,f),s.fillStyle=t.color,s.fill(),s.restore(),t.x+=t.vx,t.y+=t.vy;var n=t.x,h=t.y;(n+o>=e||0>=n-o)&&(t.vx*=-1),(h+o>=i||0>=h-o)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,i=e.dis,s=this.posX,o=this.posY,n=e.r,h=this.dots;return h.forEach(function(e){var r=e.x,a=e.y;l(r-s)<=n&&l(a-o)<=n&&h.forEach(function(s){var o=s.x,n=s.y;l(r-o)<=i&&l(a-n)<=i&&(t.save(),t.beginPath(),t.moveTo(r,a),t.lineTo(o,n),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.elemOffset=s.offset(this.set.eventElem),this.handler=function(t){this.posX=t.pageX-this.elemOffset.left,this.posY=t.pageY-this.elemOffset.top}.bind(this),n(this.set.eventElem,"mousemove",this.handler)}};e.extend(m),m.pause=function(){s.pause(this,function(){h(this.set.eventElem,"mousemove",this.handler)})},m.open=function(){s.open(this,function(){n(this.set.eventElem,"mousemove",this.handler)})},m.resize=function(){s.resize(this,function(t,e){this.posX*=t,this.posY*=e,this.elemOffset=s.offset(this.set.eventElem)})},e.particle=m.constructor=i}(window,Particleground);
//# sourceMappingURL=../map/pjs/particle.js.map
