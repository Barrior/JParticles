+function(t,e){"use strict";function i(t,e){s.createCanvas(t,this)&&(this.set=s.extend({},i.configDefault,e),s.isElem(this.set.eventElem)||(this.set.eventElem=this.c),this.posX=a()*this.cw,this.posY=a()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var s=e.util,n=e.event,o=n.on,h=n.off,r=Math,a=r.random,c=r.abs,l=2*r.PI;i.configDefault={opacity:.6,color:null,speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null,resize:!0};var f=i.prototype={version:"1.0.0",createDot:function(){for(var t=this.set,e=t.speed,i=t.num>=1?t.num:this.cw*t.num,n=[],o=0;i>o;o++){var h=s.limitRandom(t.max,t.min);n.push({x:s.limitRandom(this.cw-h,h),y:s.limitRandom(this.ch-h,h),r:h,vx:s.limitRandom(e,.5*-e)||e,vy:s.limitRandom(e,.5*-e)||e,color:this.color()})}this.dots=n},draw:function(){var t=this.set,e=this.cw,i=this.ch,s=this.cxt;s.clearRect(0,0,e,i),s.lineWidth=t.lineWidth,s.globalAlpha=t.opacity,this.dots.forEach(function(t){var n=t.r;s.save(),s.beginPath(),s.arc(t.x,t.y,n,0,l),s.fillStyle=t.color,s.fill(),s.restore(),t.x+=t.vx,t.y+=t.vy;var o=t.x,h=t.y;(o+n>=e||0>=o-n)&&(t.vx*=-1),(h+n>=i||0>=h-n)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,i=e.dis,s=this.posX,n=this.posY,o=e.range,h=this.dots;return h.forEach(function(e){var r=e.x,a=e.y;c(r-s)<=o&&c(a-n)<=o&&h.forEach(function(s){var n=s.x,o=s.y;c(r-n)<=i&&c(a-o)<=i&&(t.save(),t.beginPath(),t.moveTo(r,a),t.lineTo(n,o),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.elemOffset=s.offset(this.set.eventElem),this.handler=function(t){var e=t.pageX,i=t.pageY;"fixed"===s.getCss(this.set.eventElem,"position")&&(e=t.clientX,i=t.clientY),this.posX=e-this.elemOffset.left,this.posY=i-this.elemOffset.top}.bind(this),o(this.set.eventElem,"mousemove",this.handler)}};e.extend(f),f.pause=function(){s.pause(this,function(){h(this.set.eventElem,"mousemove",this.handler)})},f.open=function(){s.open(this,function(){o(this.set.eventElem,"mousemove",this.handler)})},f.resize=function(){s.resize(this,function(t,e){this.posX*=t,this.posY*=e,this.elemOffset=s.offset(this.set.eventElem)})},e.particle=f.constructor=i}(window,Particleground);
//# sourceMappingURL=../map/pjs/particle.js.map
