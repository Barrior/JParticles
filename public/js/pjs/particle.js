+function(t,e){"use strict";function i(t,e){n.createCanvas(t,this)&&(this.set=n.extend({},i.configDefault,e),null===this.set.eventElem&&(this.set.eventElem=this.c),this.posX=c()*this.cw,this.posY=c()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var n=e.util,s=e.event,o=s.on,r=s.off,h=Math,c=h.random,a=h.floor,l=h.abs,u=2*h.PI;i.configDefault={opacity:.6,color:[],speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,r:160,eventElem:null,resize:!0};var m=i.prototype={version:"1.0.0",createDot:function(){var t=this.cw,e=this.ch,i=this.set,s=i.speed,o=t*i.num,r=n.randomColor,h=i.color.length,l=[],u=0;for(i.num>=1&&(o=i.num),h&&(r=function(){return i.color[a(c()*h)]});o>u;u++){var m=n.limitRandom(i.max,i.min);l.push({x:n.limitRandom(t-m,m),y:n.limitRandom(e-m,m),r:m,vx:n.limitRandom(s,.5*-s)||s,vy:n.limitRandom(s,.5*-s)||s,color:r()})}this.dots=l},draw:function(){var t=this.set,e=this.cw,i=this.ch,n=this.cxt;n.clearRect(0,0,e,i),t.resize&&(n.lineWidth=t.lineWidth,n.globalAlpha=t.opacity),this.dots.forEach(function(t){var s=t.r;n.save(),n.beginPath(),n.arc(t.x,t.y,s,0,u),n.fillStyle=t.color,n.fill(),n.restore(),t.x+=t.vx,t.y+=t.vy;var o=t.x,r=t.y;(o+s>=e||0>=o-s)&&(t.vx*=-1),(r+s>=i||0>=r-s)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,i=e.dis,n=this.posX,s=this.posY,o=e.r,r=this.dots;return r.forEach(function(e){var h=e.x,c=e.y;l(h-n)<=o&&l(c-s)<=o&&r.forEach(function(n){var s=n.x,o=n.y;l(h-s)<=i&&l(c-o)<=i&&(t.save(),t.beginPath(),t.moveTo(h,c),t.lineTo(s,o),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.handler=function(t){this.posX=t.clientX,this.posY=t.clientY}.bind(this),o(this.set.eventElem,"mousemove",this.handler)}};e.extend(m),m.pause=function(){n.pause(this,function(){r(this.set.eventElem,"mousemove",this.handler)})},m.open=function(){n.open(this,function(){o(this.set.eventElem,"mousemove",this.handler)})},m.resize=function(){n.resize(this,function(t,e){this.posX*=t,this.posY*=e})},e.particle=m.constructor=i}(window,Particleground);
//# sourceMappingURL=../map/pjs/particle.js.map
