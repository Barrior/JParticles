+function(t,e){"use strict";function s(t,e){i.createCanvas(t,this)&&(this.set=i.extend({},s.configDefault,e),i.isElem(this.set.eventElem)&&this.set.eventElem===document||(this.set.eventElem=this.c),this.posX=c()*this.cw,this.posY=c()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var i=e.util,n=e.event,o=n.on,h=n.off,l=Math,c=l.random,r=l.abs,a=2*l.PI;s.configDefault={opacity:.6,color:null,speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,range:160,eventElem:null,resize:!0};var m=s.prototype={version:"1.0.0",createDot:function(){for(var t=this.set,e=t.speed,s=t.num>=1?t.num:this.cw*t.num,n=[],o=0;s>o;o++){var h=i.limitRandom(t.max,t.min);n.push({x:i.limitRandom(this.cw-h,h),y:i.limitRandom(this.ch-h,h),r:h,vx:i.limitRandom(e,.5*-e)||e,vy:i.limitRandom(e,.5*-e)||e,color:this.color()})}this.dots=n},draw:function(){var t=this.set,e=this.cw,s=this.ch,i=this.cxt;i.clearRect(0,0,e,s),i.lineWidth=t.lineWidth,i.globalAlpha=t.opacity,this.dots.forEach(function(t){var n=t.r;i.save(),i.beginPath(),i.arc(t.x,t.y,n,0,a),i.fillStyle=t.color,i.fill(),i.restore(),t.x+=t.vx,t.y+=t.vy;var o=t.x,h=t.y;(o+n>=e||0>=o-n)&&(t.vx*=-1),(h+n>=s||0>=h-n)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,s=e.dis,i=this.posX,n=this.posY,o=e.range,h=this.dots;return h.forEach(function(e){var l=e.x,c=e.y;r(l-i)<=o&&r(c-n)<=o&&h.forEach(function(i){var n=i.x,o=i.y;r(l-n)<=s&&r(c-o)<=s&&(t.save(),t.beginPath(),t.moveTo(l,c),t.lineTo(n,o),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.set.eventElem!==document&&(this.elemOffset=i.offset(this.set.eventElem)),this.handler=function(t){this.posX=t.pageX,this.posY=t.pageY,this.elemOffset&&("fixed"===i.getCss(this.set.eventElem,"position")?(this.posX=t.clientX,this.posX=t.clientY):(this.posX-=this.elemOffset.left,this.posY-=this.elemOffset.top))}.bind(this),o(this.set.eventElem,"mousemove",this.handler)}};e.extend(m),m.pause=function(){i.pause(this,function(){h(this.set.eventElem,"mousemove",this.handler)})},m.open=function(){i.open(this,function(){o(this.set.eventElem,"mousemove",this.handler)})},m.resize=function(){i.resize(this,function(t,e){this.posX*=t,this.posY*=e,this.elemOffset=this.elemOffset?i.offset(this.set.eventElem):""})},e.particle=m.constructor=s}(window,Particleground);
//# sourceMappingURL=../map/pjs/particle.js.map
