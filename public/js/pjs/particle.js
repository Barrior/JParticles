+function(t,e){"use strict";function i(t,e){o.createCanvas(t,this)&&(this.set=o.extend({},i.configDefault,e),"object"!=typeof this.set.eventElem&&(this.set.eventElem=this.c),this.posX=c()*this.cw,this.posY=c()*this.ch,this.createDot(),this.draw(),this.event(),this.resize())}var o=e.util,s=e.event,n=s.on,r=s.off,h=Math,c=h.random,a=h.floor,l=h.abs,u=2*h.PI;i.configDefault={opacity:.6,color:[],speed:1,num:.12,max:2.4,min:.6,dis:130,lineWidth:.2,r:160,eventElem:!1,resize:!0};var m=i.prototype={version:"1.0.0",createDot:function(){var t=this.cw,e=this.ch,i=this.set,s=i.speed,n=t*i.num,r=o.randomColor,h=i.color.length,l=[],u=0;for(i.num>=1&&(n=i.num),h&&(r=function(){return i.color[a(c()*h)]});n>u;u++){var m=o.limitRandom(i.max,i.min);l.push({x:o.limitRandom(t-m,m),y:o.limitRandom(e-m,m),r:m,vx:o.limitRandom(s,.5*-s)||s,vy:o.limitRandom(s,.5*-s)||s,color:r()})}this.dots=l},draw:function(){var t=this.set,e=this.cw,i=this.ch,o=this.cxt;o.clearRect(0,0,e,i),t.resize&&(o.lineWidth=t.lineWidth,o.globalAlpha=t.opacity),this.dots.forEach(function(t){var s=t.r;o.save(),o.beginPath(),o.arc(t.x,t.y,s,0,u),o.fillStyle=t.color,o.fill(),o.restore(),t.x+=t.vx,t.y+=t.vy;var n=t.x,r=t.y;(n+s>=e||0>=n-s)&&(t.vx*=-1),(r+s>=i||0>=r-s)&&(t.vy*=-1)}),this.connectDot().requestAnimationFrame()},connectDot:function(){var t=this.cxt,e=this.set,i=e.dis,o=this.posX,s=this.posY,n=e.r,r=this.dots;return r.forEach(function(e){var h=e.x,c=e.y;l(h-o)<=n&&l(c-s)<=n&&r.forEach(function(o){var s=o.x,n=o.y;l(h-s)<=i&&l(c-n)<=i&&(t.save(),t.beginPath(),t.moveTo(h,c),t.lineTo(s,n),t.strokeStyle=e.color,t.stroke(),t.restore())})}),this},event:function(){this.handler=function(t){this.posX=t.clientX,this.posY=t.clientY}.bind(this),n(this.set.eventElem,"mousemove",this.handler)}};e.extend(m),m.pause=function(){o.pause(this,function(){r(this.set.eventElem,"mousemove",this.handler)})},m.open=function(){o.open(this,function(){n(this.set.eventElem,"mousemove",this.handler)})},m.resize=function(){o.resize(this,function(t,e){this.posX*=t,this.posY*=e})},e.particle=m.constructor=i}(window,Particleground);
//# sourceMappingURL=../map/pjs/particle.js.map
