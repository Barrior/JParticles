+function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i,o,r,n,a=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}(),l=JParticles,f=l.utils,h=l.Base,c=Math.PI,u=Math.sin,p=Math.ceil,y=2*c,d=f.scaleValue,m=f.isPlainObject,g=f.isUndefined,v=f.resize,T=f.mount,w=f.registerListener,b=(i=T("WaveLoading"))((n=r=function(i){function o(s,i){return t(this,o),e(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,o,s,i))}return s(o,i),a(o,[{key:"init",value:function(){this.c.style.borderRadius="50%",this.progress=0,this.set.offsetTop=this.ch,this.halfCH=this.ch/2,this.progressListeners=[],this.finishedListeners=[],this.attrNormalize(),this.createDots(),this.draw()}},{key:"attrNormalize",value:function(){var t=this;["offsetLeft","crestHeight"].forEach(function(e){t.set[e]=d(t.set[e],"offsetLeft"===e?t.cw:t.ch)})}},{key:"createDots",value:function(){for(var t=this.cw,e=this.dots=[],s=t/this.set.rippleNum,i=y/s,o=0;o<=t;o++)e.push({x:o,y:o*i})}},{key:"draw",value:function(){this.calcOffsetTop(),this.drawWave(),this.drawText(),this.calcProgress(),this.progress<=100?this.requestAnimationFrame():(this.progress=100,this.calcOffsetTop(),this.drawWave(),this.drawText(),this.finishedListeners.forEach(function(t){return t()}))}},{key:"drawWave",value:function(){var t=this.ctx,e=this.cw,s=this.ch,i=this.set,o=i.opacity,r=i.crestHeight,n=i.offsetLeft,a=i.offsetTop,l=i.fillColor,f=i.speed;t.clearRect(0,0,e,s),t.globalAlpha=o,t.save(),t.beginPath(),this.dots.forEach(function(e,s){t[s?"lineTo":"moveTo"](e.x,r*u(e.y+n)+a),e.y-=f}),t.lineTo(e,s),t.lineTo(0,s),t.closePath(),t.fillStyle=l,t.fill(),t.restore()}},{key:"drawText",value:function(){var t=this,e=this.ctx,s=this.cw,i=this.halfCH,o=this.progress,r=this.set,n=r.font,a=r.smallFont,l=r.color,f=r.smallFontOffsetTop,h="%",c=p(o);this.progressListeners.forEach(function(e){var s=e(t.progress);g(s)||(m(s)?(c=s.text,h=s.smallText||""):(c=s,h=""))}),e.font=n;var u=e.measureText(c).width;e.font=a;var y=e.measureText(h).width,d=(s-u-y)/2;e.textBaseline="middle",e.fillStyle=l,e.font=n,e.fillText(c,d,i),e.font=a,e.fillText(h,d+u,i+f)}},{key:"calcProgress",value:function(){if(this.immediatelyComplete)return this.progress+=this.immediatelyComplete,void(this.immediatelyComplete+=.5);if(!(this.progress>=99)){var t=this.set,e=t.easing,s=t.duration;this.startTime||(this.startTime=Date.now());var i=Date.now()-this.startTime,o=i/s;o<=1&&(this.progress=JParticles.easing[e](o,i,0,100,s),this.progress>=99&&(this.progress=99))}}},{key:"calcOffsetTop",value:function(){(this.immediatelyComplete||99!==this.progress)&&(100===this.progress?this.set.offsetTop=-this.set.crestHeight:this.set.offsetTop=p((100-this.progress)/100*this.ch+this.set.crestHeight))}},{key:"resize",value:function(){var t=this;v(this,function(e,s){["offsetLeft","offsetTop","crestHeight"].forEach(function(i){t.set[i]*="offsetLeft"===i?e:s}),t.halfCH=t.ch/2,100===t.progress&&t.draw()})}},{key:"setOptions",value:function(t){if(this.set&&m(t))for(var e in t)"offsetTop"!==e&&e in this.set&&(this.set[e]=t[e])}},{key:"done",value:function(){this.set&&!this.immediatelyComplete&&(this.immediatelyComplete=1)}},{key:"onProgress",value:function(){return w.apply(void 0,[this,this.progressListeners].concat(Array.prototype.slice.call(arguments)))}},{key:"onFinished",value:function(){return w.apply(void 0,[this,this.finishedListeners].concat(Array.prototype.slice.call(arguments)))}}]),o}(h),r.defaultConfig={font:"normal 900 20px Arial",smallFont:"normal 900 14px Arial",smallFontOffsetTop:1,color:"#333",fillColor:"#27C9E5",offsetLeft:0,crestHeight:4,rippleNum:1,speed:.3,duration:5e3,easing:"swing"},o=n))||o;delete b.prototype.pause,delete b.prototype.open}();